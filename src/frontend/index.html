<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Rave of Fairness</title>

	<!-- D3.js Libraries -->
	<script src="https://d3js.org/d3.v7.min.js"></script>
	<script src="https://unpkg.com/d3-simple-slider@1.7.4/dist/d3-simple-slider.min.js"></script>

	<!-- Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400&family=Syncopate:wght@400;700&display=swap"
		rel="stylesheet" />

	<!-- Tailwind CSS -->
	<script src="https://cdn.tailwindcss.com"></script>

	<!-- Tailwind Custom Configuration -->
	<script>
		tailwind.config = {
			theme: {
				extend: {
					fontFamily: {
						sans: ["Inter", "sans-serif"],
						title: ["Syncopate", "sans-serif"],
					},
					animation: {
						wobble: "wobble 2.5s ease-in-out infinite",
					},
					keyframes: {
						wobble: {
							"0%, 100%": {
								transform: "rotate(0deg) translateY(0px)",
							},
							"25%": {
								transform: "rotate(5deg) translateY(-4px)",
							},
							"50%": {
								transform: "rotate(0deg) translateY(0px)",
							},
							"75%": {
								transform: "rotate(-5deg) translateY(-4px)",
							},
						},
					},
				},
			},
		};
	</script>
</head>
<style>
	body {
		background-image: url('../../images/Background.svg');
		background-size: cover;
		background-repeat: no-repeat;
		background-position: center center;
	}
</style>

<body class="font-sans bg-gray-900 text-white flex flex-col min-h-screen">
	<!-- Main Content Area -->
	<div class="grid grid-cols-4 flex-1 w-full">
		<!-- Left Panel (1/4) - Text -->
		<aside id="left-panel" class="col-span-1 bg-transparent p-6 flex flex-col space-y-4 border-r border-gray-700">
			<h1 class="font-title text-4xl font-bold" style="color: #ffb500;">
				Rave of Fairness
			</h1>
			<p class="text-base mt-1" style="color: #ffb500;">
				The spectrum of representation for ranked algorithms in a networked social scene with unequal
				demographics (anytime there is a majority and a minority)
			</p>
			<div class="pt-2">
				<p class="text-base text-gray-300">
					<span class="pl-2 block">
						<p class="text-xl">
							Some bobas walk into a bar…
						</p>
						<p class="text-m text-gray-100">
							They want to join the tikas, who make up the majority of partiers on the dance floor.
							Throughout the
							night, an emcee robot—using a ranking algorithm—is always highlighting ten individuals based
							on how
							inclusively or exclusively the bobas and tikas are connecting with each other.
						</p>
						<p class="text-m">
							The proportion of
							<span style="font-weight:bold; color:#24E5EA;">
								Bobas (minority group)
							</span>
							and
							<span style="font-weight:bold; color:#FF7300;">
								Tikas (majority)
							</span>who the emcee robot is highlighting is
							not always equal to their demographics in the group. The proportion of the 10 individuals
							that the
							emcee highlights can either underrepresent, overrepresent, or equally (fairly) represent the
							ratio
							of bobas and tikas in the bar. The proportion of bobas the emcee (algorithm) highlights is
							not only
							based on the ratio of bobas to tikas, but also on how well the bobas and tikas connect to
							their own
							group and to others.
						</p>
					</span>
				</p>
			</div>
		</aside>

		<!-- Middle Panel (2/4) - Graph -->
		<main id="main-content" class="col-span-2 flex min-w-0 p-4">
			<div id="graph-container" class="flex-1 bg-blur-100 bg-white rounded-lg overflow-hidden">
				<svg class="w-full h-full"></svg>
			</div>
		</main>

		<!-- Right Panel (1/4) - Controls -->
		<aside id="right-panel"
			class="col-span-1 bg-transparent border-l border-gray-700 p-6 overflow-y-auto flex flex-col space-y-8">
			<!-- Parameter Selection Section -->
			Explore the three parameters that influence fairness in who the emcee represents
			<br />
			<div id="parameter-selection" class="flex flex-col items-start w-full">
				<div class="w-full space-y-6">
					<div class="slider-group flex flex-col items-start w-full">
						<label for="sliderRatio" class="text-sm mb-1 text-left w-full">CROWD MIX</label>
						<span class="text-xs text-gray-400 mb-2 text-left w-full">
							the ratio of minority (bobas) to majority (tikas) individuals
						</span>
						<div class="w-full flex justify-center">
							<input type="range" id="sliderRatio" min="0" max="1" step="1" value="0"
								class="w-48 h-1.5 bg-gray-600 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-blue-500" />
						</div>
						<span id="sliderRatioValue"
							class="text-sm text-white font-semibold mt-1 w-full text-center">0.1</span>
					</div>
					<div class="slider-group flex flex-col items-start w-full">
						<label for="sliderHomophilyMajority" class="text-sm mb-1 text-left w-full">TIKA LOVE</label>
						<span class="text-xs text-gray-400 mb-2 text-left w-full">
							how inclusive or exclusive the majority (tikas) build their social connections
						</span>
						<div class="w-full flex justify-center">
							<input type="range" id="sliderHomophilyMajority" min="0" max="2" step="1" value="1"
								class="w-48 h-1.5 bg-gray-600 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-blue-500" />
						</div>
						<span id="sliderHomophilyMajorityValue"
							class="text-sm text-white font-semibold mt-1 w-full text-center">0.5</span>
					</div>
					<div class="slider-group flex flex-col items-start w-full">
						<label for="sliderHomophilyMinority" class="text-sm mb-1 text-left w-full">BOBA LOVE</label>
						<span class="text-xs text-gray-400 mb-2 text-left w-full">
							how inclusive or exclusive the minority (bobas) build their social connections
						</span>
						<div class="w-full flex justify-center">
							<input type="range" id="sliderHomophilyMinority" min="0" max="2" step="1" value="1"
								class="w-48 h-1.5 bg-gray-600 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-blue-500" />
						</div>
						<span id="sliderHomophilyMinorityValue"
							class="text-sm text-white font-semibold mt-1 w-full text-center">0.5</span>
					</div>
				</div>
				<button onclick="updateNetwork()"
					class="mt-6 w-full py-2 px-4 text-sm text-black rounded-md cursor-pointer transition-colors"
					style="background-color: #ffb500;" onmouseover="this.style.backgroundColor='#e6a200';"
					onmouseout="this.style.backgroundColor='#ffb500';">
					Update Rave Network
				</button>
			</div>

			<!-- Top 10 Nodes Section -->
			<div id="top10-nodes">
				<h2 class="text-lg font-semibold mb-3 text-center" style="color: #ffb500;">
					Emcee faves
				</h2>
				<ul id="top10-list" class="pl-5 list-decimal space-y-1.5">
					<!-- JS will populate this list. Example: -->
					<!-- <li class="text-sm">Node 123 (Score: 0.98)</li> -->
				</ul>
			</div>

			<button onclick="loadGraph()"
				class="mt-2 w-full py-2 px-4 text-sm text-black rounded-md cursor-pointer transition-colors"
				style="background-color: #ffb500;" onmouseover="this.style.backgroundColor='#e6a200';"
				onmouseout="this.style.backgroundColor='#ffb500';">
				Load Graph
			</button>

		</aside>
	</div>
	<script src="network.js"></script>
</body>

</html>